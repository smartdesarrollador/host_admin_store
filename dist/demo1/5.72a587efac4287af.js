"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[5],{5:(tt,T,u)=>{u.r(T),u.d(T,{ProductsModule:()=>et});var d=u(6814),h=u(7304),e=u(5879);let w=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-products"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},dependencies:[h.lC]})}return o})();var l=u(9862),x=u(5619),p=u(4716),_=u(6988),A=u(3595);let b=(()=>{class o{http;authservice;isLoading$;isLoadingSubject;constructor(t,n){this.http=t,this.authservice=n,this.isLoadingSubject=new x.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}listProducts(t=1,n){this.isLoadingSubject.next(!0);let i=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/products/index?page="+t,n,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}configAll(){this.isLoadingSubject.next(!0);let t=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/products/config",{headers:t}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}createProducts(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/products",t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}showProduct(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/products/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}updateProducts(t,n){this.isLoadingSubject.next(!0);let i=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/products/"+t,n,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteProduct(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/admin/products/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}imagenAdd(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/products/imagens",t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteImageProduct(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/admin/products/imagens/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(n){return new(n||o)(e.LFG(l.eN),e.LFG(A.e8))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var m=u(2425),c=u(6223),Z=u(3504),f=u(540);function M(o,s){1&o&&e._UZ(0,"span",33)}function k(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",34),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function y(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",34),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function q(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",34),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function U(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",34),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function J(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"label",5),e._uU(2,"Tags: "),e.qZA(),e.TgZ(3,"ng-multiselect-dropdown",35),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=i)})("onSelect",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemSelect(i))})("onSelectAll",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectAll(i))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("placeholder","custom placeholder")("settings",t.dropdownSettings)("data",t.dropdownList)("ngModel",t.selectedItems)}}let E=(()=>{class o{productService;toastr;title="";sku="";resumen="";price_pen=0;price_usd=0;description="<p>Hello, world!</p>";imagen_previsualiza="https://preview.keenthemes.com/metronic8/demo1/assets/media/svg/illustrations/easy/2.svg";file_imagen=null;marca_id="";marcas=[];isLoading$;categorie_first_id="";categorie_second_id="";categorie_third_id="";categories_first=[];categories_seconds=[];categories_seconds_backups=[];categories_thirds=[];categories_thirds_backups=[];dropdownList=[];selectedItems=[];dropdownSettings={};word="";isShowMultiselect=!1;constructor(t,n){this.productService=t,this.toastr=n}ngOnInit(){this.isLoading$=this.productService.isLoading$,this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0},this.configAll()}configAll(){this.productService.configAll().subscribe(t=>{console.log(t),this.marcas=t.brands,this.categories_first=t.categories_first,this.categories_seconds=t.categories_seconds,this.categories_thirds=t.categories_thirds})}addItems(){this.isShowMultiselect=!0;let t=(new Date).getTime();this.dropdownList.push({item_id:t,item_text:this.word}),this.selectedItems.push({item_id:t,item_text:this.word}),setTimeout(()=>{this.word="",this.isShowMultiselect=!1,this.isLoadingView()},100)}processFile(t){if(t.target.files[0].type.indexOf("image")<0)return void this.toastr.error("Validacion","El archivo no es una imagen");this.file_imagen=t.target.files[0];let n=new FileReader;n.readAsDataURL(this.file_imagen),n.onloadend=()=>this.imagen_previsualiza=n.result,this.isLoadingView()}isLoadingView(){this.productService.isLoadingSubject.next(!0),setTimeout(()=>{this.productService.isLoadingSubject.next(!1)},50)}changeDepartamento(){this.categories_seconds_backups=this.categories_seconds.filter(t=>t.categorie_second_id==this.categorie_first_id)}changeCategorie(){this.categories_thirds_backups=this.categories_thirds.filter(t=>t.categorie_second_id==this.categorie_second_id)}onChange(t){this.description=t.editor.getData()}onItemSelect(t){console.log(t)}onSelectAll(t){console.log(t)}save(){if(!(this.title&&this.sku&&this.price_usd&&this.price_pen&&this.marca_id&&this.file_imagen&&this.categorie_first_id&&this.description&&this.resumen&&0!=this.selectedItems))return void this.toastr.error("Validacion","Los campos con el * son obligatorio");let t=new FormData;t.append("title",this.title),t.append("sku",this.sku),t.append("price_usd",this.price_usd+""),t.append("price_pen",this.price_pen+""),t.append("brand_id",this.marca_id),t.append("portada",this.file_imagen),t.append("categorie_first_id",this.categorie_first_id),this.categorie_second_id&&t.append("categorie_second_id",this.categorie_second_id),this.categorie_third_id&&t.append("categorie_third_id",this.categorie_third_id),t.append("description",this.description),t.append("resumen",this.resumen),t.append("multiselect",JSON.stringify(this.selectedItems)),this.productService.createProducts(t).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.title="",this.file_imagen=null,this.sku="",this.price_usd=0,this.price_pen=0,this.marca_id="",this.categorie_first_id="",this.categorie_second_id="",this.categorie_third_id="",this.description="",this.resumen="",this.selectedItems=[],this.imagen_previsualiza="https://preview.keenthemes.com/metronic8/demo1/assets/media/svg/illustrations/easy/2.svg",this.toastr.success("Exito","El product se registro perfectamente"))})}static \u0275fac=function(n){return new(n||o)(e.Y36(b),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-create-product"]],decls:80,vars:20,consts:[[1,"card"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-8","fv-row","fv-plugins-icon-container"],[1,"fw-semibold","fs-6","py-2"],["type","text","name","title","placeholder","Por ejemplo:   The best note book collection 2023 ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-4","fv-row","fv-plugins-icon-container"],["type","text","name","sku","placeholder","Por ejemplo:   ZDR456 ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","price_pen","placeholder","Por ejemplo:   20 PEN  ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","price_usd","placeholder","Por ejemplo:   20 USD ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","marca","placeholder","Selec. Marca",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],[1,"col-4"],["name","departament","placeholder","Selec. Departamento",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-lg-4","col-md-4","col-sm-12","my-2"],["type","text","name","word","placeholder","Por ejemplo:   XXXXX ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","keyup.enter","ngModelChange"],["class","col-lg-6 col-md-6 col-sm-12 my-2",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","my-2"],[1,"form-label"],[1,"custom-file"],["type","file","id","customFile","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],[1,""],["width","200","alt","",1,"img","py-4",3,"src"],[1,"fs-6","fw-semibold","mb-2"],[3,"data","change"],["rows","3","name","resumen","placeholder","******",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"btn","btn-primary",3,"click"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,M,1,0,"span",1),e.ALo(2,"async"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Titulo: (*)"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){return i.title=r}),e.qZA()(),e.TgZ(9,"div",7)(10,"label",5),e._uU(11,"Sku: (*)"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(r){return i.sku=r}),e.qZA()()(),e.TgZ(13,"div",3)(14,"div",7)(15,"label",5),e._uU(16,"Precio Pen: (*)"),e.qZA(),e.TgZ(17,"input",9),e.NdJ("ngModelChange",function(r){return i.price_pen=r}),e.qZA()(),e.TgZ(18,"div",7)(19,"label",5),e._uU(20,"Precio Usd: (*)"),e.qZA(),e.TgZ(21,"input",10),e.NdJ("ngModelChange",function(r){return i.price_usd=r}),e.qZA()(),e.TgZ(22,"div",7)(23,"label",5),e._uU(24,"Marcas: *"),e.qZA(),e.TgZ(25,"select",11),e.NdJ("ngModelChange",function(r){return i.marca_id=r}),e.TgZ(26,"option",12),e._uU(27,"Selec."),e.qZA(),e.YNc(28,k,3,2,"ng-container",13),e.qZA()()(),e.TgZ(29,"div",3)(30,"div",14)(31,"label",5),e._uU(32,"Departamento:(Primer Nivel *)"),e.qZA(),e.TgZ(33,"select",15),e.NdJ("ngModelChange",function(r){return i.categorie_first_id=r})("change",function(){return i.changeDepartamento()}),e.TgZ(34,"option",12),e._uU(35,"Selec."),e.qZA(),e.YNc(36,y,3,2,"ng-container",13),e.qZA()(),e.TgZ(37,"div",14)(38,"label",5),e._uU(39,"Categoria:(Segundo Nivel (Opcional))"),e.qZA(),e.TgZ(40,"select",16),e.NdJ("ngModelChange",function(r){return i.categorie_second_id=r})("change",function(){return i.changeCategorie()}),e.TgZ(41,"option",12),e._uU(42,"Selec."),e.qZA(),e.YNc(43,q,3,2,"ng-container",13),e.qZA()(),e.TgZ(44,"div",14)(45,"label",5),e._uU(46,"Sub Categoria:(Tercer Nivel (Opcional))"),e.qZA(),e.TgZ(47,"select",17),e.NdJ("ngModelChange",function(r){return i.categorie_third_id=r}),e.TgZ(48,"option",12),e._uU(49,"Selec."),e.qZA(),e.YNc(50,U,3,2,"ng-container",13),e.qZA()()(),e.TgZ(51,"div",3)(52,"div",18)(53,"label",5),e._uU(54,"Word: (*)"),e.qZA(),e.TgZ(55,"input",19),e.NdJ("keyup.enter",function(){return i.addItems()})("ngModelChange",function(r){return i.word=r}),e.qZA()(),e.YNc(56,J,4,4,"div",20),e.qZA(),e.TgZ(57,"div",3)(58,"div",21)(59,"label",22),e._uU(60,"Sube tu imagen: (*)"),e.qZA(),e.TgZ(61,"div",23)(62,"input",24),e.NdJ("change",function(r){return i.processFile(r)}),e.qZA(),e.TgZ(63,"label",25),e._uU(64,"Choose file"),e.qZA()(),e.TgZ(65,"div",26),e._UZ(66,"img",27),e.qZA()()(),e.TgZ(67,"div",3)(68,"div",4)(69,"label",28),e._uU(70,"Descripci\xf3n: "),e.qZA(),e.TgZ(71,"ckeditor",29),e.NdJ("change",function(r){return i.onChange(r)}),e.qZA()(),e.TgZ(72,"div",7)(73,"label",28),e._uU(74,"Resumen: "),e.qZA(),e.TgZ(75,"textarea",30),e.NdJ("ngModelChange",function(r){return i.resumen=r}),e.qZA()()(),e.TgZ(76,"div",3)(77,"div",31)(78,"button",32),e.NdJ("click",function(){return i.save()}),e._uU(79,"Guardar"),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,18,i.isLoading$)),e.xp6(7),e.Q6J("ngModel",i.title),e.xp6(4),e.Q6J("ngModel",i.sku),e.xp6(5),e.Q6J("ngModel",i.price_pen),e.xp6(4),e.Q6J("ngModel",i.price_usd),e.xp6(4),e.Q6J("ngModel",i.marca_id),e.xp6(3),e.Q6J("ngForOf",i.marcas),e.xp6(5),e.Q6J("ngModel",i.categorie_first_id),e.xp6(3),e.Q6J("ngForOf",i.categories_first),e.xp6(4),e.Q6J("ngModel",i.categorie_second_id),e.xp6(3),e.Q6J("ngForOf",i.categories_seconds_backups),e.xp6(4),e.Q6J("ngModel",i.categorie_third_id),e.xp6(3),e.Q6J("ngForOf",i.categories_thirds_backups),e.xp6(5),e.Q6J("ngModel",i.word),e.xp6(1),e.Q6J("ngIf",!i.isShowMultiselect),e.xp6(10),e.Q6J("src",i.imagen_previsualiza,e.LSH),e.xp6(5),e.Q6J("data",i.description),e.xp6(4),e.Q6J("ngModel",i.resumen))},dependencies:[d.sg,d.O5,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.On,Z.u,f.O,d.Ov]})}return o})();var g=u(1274);function I(o,s){1&o&&e._UZ(0,"span",15)}let L=(()=>{class o{productService;toastr;modal;product;ProductD=new e.vpe;isLoading;constructor(t,n,i){this.productService=t,this.toastr=n,this.modal=i}ngOnInit(){this.isLoading=this.productService.isLoading$}delete(){this.productService.deleteProduct(this.product.id).subscribe(t=>{this.ProductD.emit({message:200}),this.modal.close()})}static \u0275fac=function(n){return new(n||o)(e.Y36(b),e.Y36(m._W),e.Y36(g.Kz))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-delete-product"]],inputs:{product:"product"},outputs:{ProductD:"ProductD"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return i.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTE PRODUCTO? "),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return i.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return i.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,I,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&n&&(e.xp6(3),e.hij("Delete Product: #",i.product.title,""),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,2,i.isLoading)))},dependencies:[d.O5,c._Y,c.JL,c.F,d.Ov]})}return o})();function V(o,s){1&o&&e._UZ(0,"span",69)}function N(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Q(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function P(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function O(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",70),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function F(o,s){if(1&o&&(e.TgZ(0,"div",89),e._UZ(1,"img",90),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imagen,e.LSH)}}function D(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.categorie_second.name," ")}}function j(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.categorie_third.name," ")}}function Y(o,s){1&o&&(e.TgZ(0,"span",91),e._uU(1,"PENDIENTE"),e.qZA())}function $(o,s){1&o&&(e.TgZ(0,"span",92),e._uU(1,"PUBLICO"),e.qZA())}function B(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",71)(2,"td")(3,"div",72),e.YNc(4,F,2,1,"div",73),e.TgZ(5,"div",74)(6,"a",75),e._uU(7),e.qZA(),e.TgZ(8,"span",76),e._uU(9),e.qZA()()()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td"),e.YNc(20,D,2,1,"span",77),e.qZA(),e.TgZ(21,"td"),e.YNc(22,j,2,1,"span",77),e.qZA(),e.TgZ(23,"td"),e.YNc(24,Y,2,0,"span",78),e.YNc(25,$,2,0,"span",79),e.qZA(),e.TgZ(26,"td",80)(27,"a",81)(28,"i",82),e._UZ(29,"span",9)(30,"span",10)(31,"span",83),e.qZA()(),e.TgZ(32,"a",81)(33,"i",84),e._UZ(34,"span",9)(35,"span",10),e.qZA()(),e.TgZ(36,"a",85),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteProduct(a))}),e.TgZ(37,"i",86),e._UZ(38,"span",9)(39,"span",10)(40,"span",83)(41,"span",87)(42,"span",88),e.qZA()()()(),e.BQk()}if(2&o){const t=s.$implicit;e.xp6(4),e.Q6J("ngIf",t.imagen),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.sku),e.xp6(3),e.AsE(" ",t.price_usd," USD / ",t.price_pen," PEN "),e.xp6(3),e.hij(" ",t.brand.name," "),e.xp6(3),e.hij(" ",t.categorie_first.name," "),e.xp6(2),e.Q6J("ngIf",t.categorie_second),e.xp6(2),e.Q6J("ngIf",t.categorie_third),e.xp6(2),e.Q6J("ngIf",1==t.state),e.xp6(1),e.Q6J("ngIf",2==t.state),e.xp6(2),e.Q6J("routerLink","/products/list/variations-specifications/"+t.id),e.xp6(5),e.Q6J("routerLink","/products/list/edit/"+t.id)}}let R=(()=>{class o{productService;modalService;toastr;products=[];search="";totalPages=0;currentPage=1;isLoading$;marcas=[];marca_id="";categorie_first_id="";categorie_second_id="";categorie_third_id="";categories_first=[];categories_seconds=[];categories_seconds_backups=[];categories_thirds=[];categories_thirds_backups=[];constructor(t,n,i){this.productService=t,this.modalService=n,this.toastr=i}ngOnInit(){this.listProducts(),this.isLoading$=this.productService.isLoading$,this.configAll()}configAll(){this.productService.configAll().subscribe(t=>{console.log(t),this.marcas=t.brands,this.categories_first=t.categories_first,this.categories_seconds=t.categories_seconds,this.categories_thirds=t.categories_thirds})}listProducts(t=1){this.productService.listProducts(t,{search:this.search,brand_id:this.marca_id,categorie_first_id:this.categorie_first_id,categorie_second_id:this.categorie_second_id,categorie_third_id:this.categorie_third_id}).subscribe(i=>{console.log(i),this.products=i.products.data,this.totalPages=i.total,this.currentPage=t},i=>{console.log(i),this.toastr.error("API RESPONSE - COMUNIQUESE CON EL DESARROLLADOR",i.error.message)})}changeDepartamento(){this.categories_seconds_backups=this.categories_seconds.filter(t=>t.categorie_second_id==this.categorie_first_id)}changeCategorie(){this.categories_thirds_backups=this.categories_thirds.filter(t=>t.categorie_second_id==this.categorie_second_id)}searchTo(){this.listProducts()}loadPage(t){console.log(t),this.listProducts(t)}deleteProduct(t){const n=this.modalService.open(L,{centered:!0,size:"md"});n.componentInstance.product=t,n.componentInstance.ProductD.subscribe(i=>{let a=this.products.findIndex(r=>r.id==t.id);-1!=a&&this.products.splice(a,1)})}static \u0275fac=function(n){return new(n||o)(e.Y36(b),e.Y36(g.FF),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lits-products"]],decls:120,vars:18,consts:[[1,"card"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-header","border-0","pt-6",2,"display","inline !important"],[1,"row"],[1,"col-2"],[1,"col-12"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","data-kt-user-table-filter","search","placeholder","Search Products",1,"form-control","form-control-solid","w-250px","ps-13",3,"ngModel","keyup.enter","ngModelChange"],["name","marca","placeholder","Selec. Marca",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],[1,"col-6"],[1,"col-4"],["name","departament","placeholder","Selec. Departamento",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"card-toolbar"],["data-kt-user-table-toolbar","base",1,"d-flex","justify-content-end"],["data-kt-menu","true",1,"menu","menu-sub","menu-sub-dropdown","w-300px","w-md-325px"],[1,"px-7","py-5"],[1,"fs-5","text-gray-900","fw-bold"],[1,"separator","border-gray-200"],["data-kt-user-table-filter","form",1,"px-7","py-5"],[1,"mb-10"],[1,"form-label","fs-6","fw-semibold"],["data-kt-select2","true","data-placeholder","Select option","data-allow-clear","true","data-kt-user-table-filter","role","data-hide-search","true","data-select2-id","select2-data-9-luti","tabindex","-1","aria-hidden","true","data-kt-initialized","1",1,"form-select","form-select-solid","fw-bold","select2-hidden-accessible"],["data-select2-id","select2-data-11-bbrq"],["value","Administrator"],["value","Analyst"],["value","Developer"],["value","Support"],["value","Trial"],["dir","ltr","data-select2-id","select2-data-10-4cpl",1,"select2","select2-container","select2-container--bootstrap5",2,"width","100%"],[1,"selection"],["role","combobox","aria-haspopup","true","aria-expanded","false","tabindex","0","aria-disabled","false","aria-labelledby","select2-n6kk-container","aria-controls","select2-n6kk-container",1,"select2-selection","select2-selection--single","form-select","form-select-solid","fw-bold"],["id","select2-n6kk-container","role","textbox","aria-readonly","true","title","Select option",1,"select2-selection__rendered"],[1,"select2-selection__placeholder"],["role","presentation",1,"select2-selection__arrow"],["role","presentation"],["aria-hidden","true",1,"dropdown-wrapper"],["data-kt-select2","true","data-placeholder","Select option","data-allow-clear","true","data-kt-user-table-filter","two-step","data-hide-search","true","data-select2-id","select2-data-12-cr6q","tabindex","-1","aria-hidden","true","data-kt-initialized","1",1,"form-select","form-select-solid","fw-bold","select2-hidden-accessible"],["data-select2-id","select2-data-14-2pp3"],["value","Enabled"],["dir","ltr","data-select2-id","select2-data-13-3y7a",1,"select2","select2-container","select2-container--bootstrap5",2,"width","100%"],["role","combobox","aria-haspopup","true","aria-expanded","false","tabindex","0","aria-disabled","false","aria-labelledby","select2-oer2-container","aria-controls","select2-oer2-container",1,"select2-selection","select2-selection--single","form-select","form-select-solid","fw-bold"],["id","select2-oer2-container","role","textbox","aria-readonly","true","title","Select option",1,"select2-selection__rendered"],[1,"d-flex","justify-content-end"],["type","reset","data-kt-menu-dismiss","true","data-kt-user-table-filter","reset",1,"btn","btn-light","btn-active-light-primary","fw-semibold","me-2","px-6"],["type","submit","data-kt-menu-dismiss","true","data-kt-user-table-filter","filter",1,"btn","btn-primary","fw-semibold","px-6"],["routerLink","/products/register",1,"btn","btn-primary"],[1,"ki-duotone","ki-plus","fs-2"],[1,"btn","btn-dark","mx-2",3,"click"],[1,"card-body","py-4"],["id","kt_table_users_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"table-responsive"],["id","kt_table_users",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable","no-footer"],[1,"text-start","text-muted","fw-bold","fs-7","text-uppercase","gs-0"],["tabindex","0","aria-controls","kt_table_users","rowspan","1","colspan","1","aria-label","User: activate to sort column ascending",1,"min-w-125px","sorting",2,"width","275.844px"],["tabindex","0","aria-controls","kt_table_users","rowspan","1","colspan","1","aria-label","Joined Date: activate to sort column ascending",1,"min-w-125px","sorting",2,"width","214.609px"],["tabindex","0","aria-controls","kt_table_users","rowspan","1","colspan","1","aria-label","Role: activate to sort column ascending",1,"min-w-125px","sorting",2,"width","161.469px"],["tabindex","0","aria-controls","kt_table_users","rowspan","1","colspan","1","aria-label","Last login: activate to sort column ascending",1,"min-w-125px","sorting",2,"width","161.469px"],["rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-100px","sorting_disabled",2,"width","129.75px"],[1,"text-gray-600","fw-semibold"],[3,"collectionSize","page","pageSize","rotate","boundaryLinks","pageChange"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"odd"],[1,"d-flex","align-items-center"],["class","symbol symbol-50px me-5",4,"ngIf"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bold","text-hover-primary","mb-1","fs-6"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],[4,"ngIf"],["class","badge badge-light-warning fs-7 fw-bold",4,"ngIf"],["class","badge badge-light-success fs-7 fw-bold",4,"ngIf"],[1,"text-end"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"routerLink"],[1,"ki-duotone","ki-delivery-3","fs-2"],[1,"path3"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path4"],[1,"path5"],[1,"symbol","symbol-50px","me-5"],["alt","",1,"",3,"src"],[1,"badge","badge-light-warning","fs-7","fw-bold"],[1,"badge","badge-light-success","fs-7","fw-bold"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,V,1,0,"span",1),e.ALo(2,"async"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",3)(7,"div",5)(8,"div",6)(9,"div",7)(10,"i",8),e._UZ(11,"span",9)(12,"span",10),e.qZA(),e.TgZ(13,"input",11),e.NdJ("keyup.enter",function(){return i.searchTo()})("ngModelChange",function(r){return i.search=r}),e.qZA()()()(),e.TgZ(14,"div",5)(15,"select",12),e.NdJ("ngModelChange",function(r){return i.marca_id=r}),e.TgZ(16,"option",13),e._uU(17,"Selec. Marcas"),e.qZA(),e.YNc(18,N,3,2,"ng-container",14),e.qZA()()()(),e.TgZ(19,"div",15)(20,"div",3)(21,"div",16)(22,"select",17),e.NdJ("ngModelChange",function(r){return i.categorie_first_id=r})("change",function(){return i.changeDepartamento()}),e.TgZ(23,"option",13),e._uU(24,"Selec. Departamento"),e.qZA(),e.YNc(25,Q,3,2,"ng-container",14),e.qZA()(),e.TgZ(26,"div",16)(27,"select",18),e.NdJ("ngModelChange",function(r){return i.categorie_second_id=r})("change",function(){return i.changeCategorie()}),e.TgZ(28,"option",13),e._uU(29,"Selec. Categoria"),e.qZA(),e.YNc(30,P,3,2,"ng-container",14),e.qZA()(),e.TgZ(31,"div",16)(32,"select",19),e.NdJ("ngModelChange",function(r){return i.categorie_third_id=r}),e.TgZ(33,"option",13),e._uU(34,"Selec. Subcategoria"),e.qZA(),e.YNc(35,O,3,2,"ng-container",14),e.qZA()()()(),e.TgZ(36,"div",20)(37,"div",21)(38,"div",22)(39,"div",23)(40,"div",24)(41,"div",25),e._uU(42,"Filter Options"),e.qZA()(),e._UZ(43,"div",26),e.TgZ(44,"div",27)(45,"div",28)(46,"label",29),e._uU(47,"Role:"),e.qZA(),e.TgZ(48,"select",30),e._UZ(49,"option",31),e.TgZ(50,"option",32),e._uU(51,"Administrator"),e.qZA(),e.TgZ(52,"option",33),e._uU(53,"Analyst"),e.qZA(),e.TgZ(54,"option",34),e._uU(55,"Developer"),e.qZA(),e.TgZ(56,"option",35),e._uU(57,"Support"),e.qZA(),e.TgZ(58,"option",36),e._uU(59,"Trial"),e.qZA()(),e.TgZ(60,"span",37)(61,"span",38)(62,"span",39)(63,"span",40)(64,"span",41),e._uU(65,"Select option"),e.qZA()(),e.TgZ(66,"span",42),e._UZ(67,"b",43),e.qZA()()(),e._UZ(68,"span",44),e.qZA()(),e.TgZ(69,"div",28)(70,"label",29),e._uU(71,"Two Step Verification:"),e.qZA(),e.TgZ(72,"select",45),e._UZ(73,"option",46),e.TgZ(74,"option",47),e._uU(75,"Enabled"),e.qZA()(),e.TgZ(76,"span",48)(77,"span",38)(78,"span",49)(79,"span",50)(80,"span",41),e._uU(81,"Select option"),e.qZA()(),e.TgZ(82,"span",42),e._UZ(83,"b",43),e.qZA()()(),e._UZ(84,"span",44),e.qZA()(),e.TgZ(85,"div",51)(86,"button",52),e._uU(87,"Reset"),e.qZA(),e.TgZ(88,"button",53),e._uU(89,"Apply"),e.qZA()()()(),e.TgZ(90,"a",54),e._UZ(91,"i",55),e._uU(92," Add Product "),e.qZA(),e.TgZ(93,"a",56),e.NdJ("click",function(){return i.searchTo()}),e._uU(94," Search "),e.qZA()()()()()(),e.TgZ(95,"div",57)(96,"div",58)(97,"div",59)(98,"table",60)(99,"thead")(100,"tr",61)(101,"th",62),e._uU(102," Titulo "),e.qZA(),e.TgZ(103,"th",63),e._uU(104," Precios "),e.qZA(),e.TgZ(105,"th",64),e._uU(106," Marca "),e.qZA(),e.TgZ(107,"th",64),e._uU(108," Departamento "),e.qZA(),e.TgZ(109,"th",64),e._uU(110," Categoria "),e.qZA(),e.TgZ(111,"th",64),e._uU(112," Subcategoria "),e.qZA(),e.TgZ(113,"th",65),e._uU(114," State "),e.qZA(),e.TgZ(115,"th",66),e._uU(116,"Actions"),e.qZA()()(),e.TgZ(117,"tbody",67),e.YNc(118,B,43,13,"ng-container",14),e.qZA()(),e.TgZ(119,"ngb-pagination",68),e.NdJ("pageChange",function(r){return i.currentPage=r})("pageChange",function(r){return i.loadPage(r)}),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,16,i.isLoading$)),e.xp6(12),e.Q6J("ngModel",i.search),e.xp6(2),e.Q6J("ngModel",i.marca_id),e.xp6(3),e.Q6J("ngForOf",i.marcas),e.xp6(4),e.Q6J("ngModel",i.categorie_first_id),e.xp6(3),e.Q6J("ngForOf",i.categories_first),e.xp6(2),e.Q6J("ngModel",i.categorie_second_id),e.xp6(3),e.Q6J("ngForOf",i.categories_seconds_backups),e.xp6(2),e.Q6J("ngModel",i.categorie_third_id),e.xp6(3),e.Q6J("ngForOf",i.categories_thirds_backups),e.xp6(83),e.Q6J("ngForOf",i.products),e.xp6(1),e.Q6J("collectionSize",i.totalPages)("page",i.currentPage)("pageSize",25)("rotate",!0)("boundaryLinks",!0))},dependencies:[d.sg,d.O5,h.rH,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On,g.N9,d.Ov]})}return o})();function z(o,s){1&o&&e._UZ(0,"span",15)}let G=(()=>{class o{productImagenService;toastr;modal;id;ImagenD=new e.vpe;isLoading;constructor(t,n,i){this.productImagenService=t,this.toastr=n,this.modal=i}ngOnInit(){this.isLoading=this.productImagenService.isLoading$}delete(){this.productImagenService.deleteImageProduct(this.id).subscribe(t=>{this.ImagenD.emit({message:200}),this.modal.close()})}static \u0275fac=function(n){return new(n||o)(e.Y36(b),e.Y36(m._W),e.Y36(g.Kz))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-delete-imagen-add"]],inputs:{id:"id"},outputs:{ImagenD:"ImagenD"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return i.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTA IMAGEN? "),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return i.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return i.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,z,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&n&&(e.xp6(3),e.hij("Delete Imagen Add: #",i.id,""),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,2,i.isLoading)))},dependencies:[d.O5,c._Y,c.JL,c.F,d.Ov]})}return o})();function K(o,s){1&o&&e._UZ(0,"span",49)}function H(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",50),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function W(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",50),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function X(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",50),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ee(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",50),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",51)(1,"label",5),e._uU(2,"Tags: "),e.qZA(),e.TgZ(3,"ng-multiselect-dropdown",52),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=i)})("onSelect",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemSelect(i))})("onSelectAll",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectAll(i))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("placeholder","custom placeholder")("settings",t.dropdownSettings)("data",t.dropdownList)("ngModel",t.selectedItems)}}function ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",53),e.qZA(),e.TgZ(3,"td")(4,"button",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeImages(a.id))}),e._uU(5,"X"),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.Q6J("src",t.imagen,e.LSH)}}let ne=(()=>{class o{productService;toastr;activedRoute;modalService;title="";sku="";resumen="";price_pen=0;price_usd=0;description="<p>Hello, world!</p>";imagen_previsualiza="https://preview.keenthemes.com/metronic8/demo1/assets/media/svg/illustrations/easy/2.svg";file_imagen=null;marca_id="";marcas=[];state=1;stock=0;isLoading$;categorie_first_id="";categorie_second_id="";categorie_third_id="";categories_first=[];categories_seconds=[];categories_seconds_backups=[];categories_thirds=[];categories_thirds_backups=[];dropdownList=[];selectedItems=[];dropdownSettings={};word="";isShowMultiselect=!1;PRODUCT_ID="";PRODUCT_SELECTED;imagen_add;imagen_add_previsualiza="https://preview.keenthemes.com/metronic8/demo1/assets/media/svg/illustrations/easy/2.svg";images_files=[];constructor(t,n,i,a){this.productService=t,this.toastr=n,this.activedRoute=i,this.modalService=a}ngOnInit(){this.isLoading$=this.productService.isLoading$,this.dropdownSettings={singleSelection:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0},this.activedRoute.params.subscribe(t=>{console.log(t),this.PRODUCT_ID=t.id}),this.configAll()}configAll(){this.productService.configAll().subscribe(t=>{console.log(t),this.marcas=t.brands,this.categories_first=t.categories_first,this.categories_seconds=t.categories_seconds,this.categories_thirds=t.categories_thirds,this.showProduct()})}showProduct(){this.productService.showProduct(this.PRODUCT_ID).subscribe(t=>{console.log(t),this.PRODUCT_SELECTED=t.product,this.title=t.product.title,this.sku=t.product.sku,this.resumen=t.product.resumen,this.state=t.product.state,this.stock=t.product.stock,this.price_pen=t.product.price_pen,this.price_usd=t.product.price_usd,this.description=t.product.description,this.imagen_previsualiza=t.product.imagen,this.marca_id=t.product.brand_id,this.categorie_first_id=t.product.categorie_first_id,this.categorie_second_id=t.product.categorie_second_id,this.categorie_third_id=t.product.categorie_third_id,this.selectedItems=t.product.selectedItems,this.images_files=t.product.images,this.changeDepartamento(),this.changeCategorie(),this.dropdownList=t.product.tags,this.selectedItems=t.product.tags})}addItems(){this.isShowMultiselect=!0;let t=(new Date).getTime();this.dropdownList.push({item_id:t,item_text:this.word}),this.selectedItems.push({item_id:t,item_text:this.word}),setTimeout(()=>{this.word="",this.isShowMultiselect=!1,this.isLoadingView()},100)}processFile(t){if(t.target.files[0].type.indexOf("image")<0)return void this.toastr.error("Validacion","El archivo no es una imagen");this.file_imagen=t.target.files[0];let n=new FileReader;n.readAsDataURL(this.file_imagen),n.onloadend=()=>this.imagen_previsualiza=n.result,this.isLoadingView()}processFileTwo(t){if(t.target.files[0].type.indexOf("image")<0)return void this.toastr.error("Validacion","El archivo no es una imagen");this.imagen_add=t.target.files[0];let n=new FileReader;n.readAsDataURL(this.imagen_add),n.onloadend=()=>this.imagen_add_previsualiza=n.result,this.isLoadingView()}isLoadingView(){this.productService.isLoadingSubject.next(!0),setTimeout(()=>{this.productService.isLoadingSubject.next(!1)},50)}changeDepartamento(){this.categories_seconds_backups=this.categories_seconds.filter(t=>t.categorie_second_id==this.categorie_first_id)}changeCategorie(){this.categories_thirds_backups=this.categories_thirds.filter(t=>t.categorie_second_id==this.categorie_second_id)}removeImages(t){const n=this.modalService.open(G,{centered:!0,size:"md"});n.componentInstance.id=t,n.componentInstance.ImagenD.subscribe(i=>{let a=this.images_files.findIndex(r=>r.id==t);-1!=a&&this.images_files.splice(a,1)})}addImagen(){if(!this.imagen_add)return void this.toastr.error("Validacion","ES REQUERIDO SUBIR UNA IMAGEN");let t=new FormData;t.append("imagen_add",this.imagen_add),t.append("product_id",this.PRODUCT_ID),this.productService.imagenAdd(t).subscribe(n=>{console.log(n),this.images_files.unshift(n.imagen),this.imagen_add=null,this.imagen_add_previsualiza="https://preview.keenthemes.com/metronic8/demo1/assets/media/svg/illustrations/easy/2.svg"})}onChange(t){this.description=t.editor.getData()}onItemSelect(t){console.log(t)}onSelectAll(t){console.log(t)}save(){if(!(this.title&&this.sku&&this.price_usd&&this.price_pen&&this.marca_id&&this.categorie_first_id&&this.description&&this.resumen&&0!=this.selectedItems))return void this.toastr.error("Validacion","Los campos con el * son obligatorio");let t=new FormData;t.append("title",this.title),t.append("sku",this.sku),t.append("price_usd",this.price_usd+""),t.append("price_pen",this.price_pen+""),t.append("brand_id",this.marca_id),t.append("stock",this.stock+""),this.file_imagen&&t.append("portada",this.file_imagen),t.append("categorie_first_id",this.categorie_first_id),this.categorie_second_id&&t.append("categorie_second_id",this.categorie_second_id),this.categorie_third_id&&t.append("categorie_third_id",this.categorie_third_id),t.append("description",this.description),t.append("resumen",this.resumen),t.append("multiselect",JSON.stringify(this.selectedItems)),t.append("state",this.state+""),this.productService.updateProducts(this.PRODUCT_ID,t).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.file_imagen=null,this.toastr.success("Exito","El product se edito perfectamente"))})}static \u0275fac=function(n){return new(n||o)(e.Y36(b),e.Y36(m._W),e.Y36(h.gz),e.Y36(g.FF))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-edit-product"]],decls:120,vars:24,consts:[[1,"card"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-8","fv-row","fv-plugins-icon-container"],[1,"fw-semibold","fs-6","py-2"],["type","text","name","title","placeholder","Por ejemplo:   The best note book collection 2023 ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-4","fv-row","fv-plugins-icon-container"],["type","text","name","sku","placeholder","Por ejemplo:   ZDR456 ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","price_pen","placeholder","Por ejemplo:   20 PEN  ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","price_usd","placeholder","Por ejemplo:   20 USD ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","marca","placeholder","Selec. Marca",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],[1,"col-4"],["name","departament","placeholder","Selec. Departamento",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","categorie","placeholder","Selec. Categoria",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-lg-4","col-md-4","col-sm-12","my-2"],["type","text","name","word","placeholder","Por ejemplo:   XXXXX ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","keyup.enter","ngModelChange"],["class","col-lg-5 col-md-5 col-sm-12 my-2",4,"ngIf"],[1,"col-3"],[1,"required","fw-bold","fs-6","mb-2"],["name","state","placeholder","Select",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"col-lg-6","col-md-6","col-sm-12","my-2"],[1,"form-label"],[1,"custom-file"],["type","file","id","customFile","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],[1,""],["width","200","alt","",1,"img","py-4",3,"src"],[1,"row"],[1,"col-8"],["type","file","id","customFileOImagenes","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFileOImagenes",1,"custom-file-label"],["width","100","alt","",1,"img","py-4",3,"src"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"col-12"],["id","kt_table_users_wrapper",1,"dataTables_wrapper","dt-bootstrap4","no-footer"],[1,"table-responsive","w-100"],["id","kt_advance_table_widget_1",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable","no-footer"],[1,"text-left"],[1,"fs-6","fw-semibold","mb-2"],[3,"data","change"],["rows","3","name","resumen","placeholder","******",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","stock","placeholder","Por ejemplo:   20 PEN  ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"col-lg-5","col-md-5","col-sm-12","my-2"],[3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],["width","60","alt","",3,"src"],[1,"ml-5","btn","btn-sm","btn-danger",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,K,1,0,"span",1),e.ALo(2,"async"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Titulo: (*)"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){return i.title=r}),e.qZA()(),e.TgZ(9,"div",7)(10,"label",5),e._uU(11,"Sku: (*)"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(r){return i.sku=r}),e.qZA()()(),e.TgZ(13,"div",3)(14,"div",7)(15,"label",5),e._uU(16,"Precio Pen: (*)"),e.qZA(),e.TgZ(17,"input",9),e.NdJ("ngModelChange",function(r){return i.price_pen=r}),e.qZA()(),e.TgZ(18,"div",7)(19,"label",5),e._uU(20,"Precio Usd: (*)"),e.qZA(),e.TgZ(21,"input",10),e.NdJ("ngModelChange",function(r){return i.price_usd=r}),e.qZA()(),e.TgZ(22,"div",7)(23,"label",5),e._uU(24,"Marcas: *"),e.qZA(),e.TgZ(25,"select",11),e.NdJ("ngModelChange",function(r){return i.marca_id=r}),e.TgZ(26,"option",12),e._uU(27,"Selec."),e.qZA(),e.YNc(28,H,3,2,"ng-container",13),e.qZA()()(),e.TgZ(29,"div",3)(30,"div",14)(31,"label",5),e._uU(32,"Departamento:(Primer Nivel *)"),e.qZA(),e.TgZ(33,"select",15),e.NdJ("ngModelChange",function(r){return i.categorie_first_id=r})("change",function(){return i.changeDepartamento()}),e.TgZ(34,"option",12),e._uU(35,"Selec."),e.qZA(),e.YNc(36,W,3,2,"ng-container",13),e.qZA()(),e.TgZ(37,"div",14)(38,"label",5),e._uU(39,"Categoria:(Segundo Nivel (Opcional))"),e.qZA(),e.TgZ(40,"select",16),e.NdJ("ngModelChange",function(r){return i.categorie_second_id=r})("change",function(){return i.changeCategorie()}),e.TgZ(41,"option",12),e._uU(42,"Selec."),e.qZA(),e.YNc(43,X,3,2,"ng-container",13),e.qZA()(),e.TgZ(44,"div",14)(45,"label",5),e._uU(46,"Sub Categoria:(Tercer Nivel (Opcional))"),e.qZA(),e.TgZ(47,"select",17),e.NdJ("ngModelChange",function(r){return i.categorie_third_id=r}),e.TgZ(48,"option",12),e._uU(49,"Selec."),e.qZA(),e.YNc(50,ee,3,2,"ng-container",13),e.qZA()()(),e.TgZ(51,"div",3)(52,"div",18)(53,"label",5),e._uU(54,"Word: (*)"),e.qZA(),e.TgZ(55,"input",19),e.NdJ("keyup.enter",function(){return i.addItems()})("ngModelChange",function(r){return i.word=r}),e.qZA()(),e.YNc(56,te,4,4,"div",20),e.TgZ(57,"div",21)(58,"label",22),e._uU(59,"Selec. un Estado"),e.qZA(),e.TgZ(60,"select",23),e.NdJ("ngModelChange",function(r){return i.state=r}),e.TgZ(61,"option",24),e._uU(62,"Pendiente"),e.qZA(),e.TgZ(63,"option",25),e._uU(64,"Publico"),e.qZA()()()(),e.TgZ(65,"div",3)(66,"div",26)(67,"label",27),e._uU(68,"Sube tu imagen: (*)"),e.qZA(),e.TgZ(69,"div",28)(70,"input",29),e.NdJ("change",function(r){return i.processFile(r)}),e.qZA(),e.TgZ(71,"label",30),e._uU(72,"Choose file"),e.qZA()(),e.TgZ(73,"div",31),e._UZ(74,"img",32),e.qZA()(),e.TgZ(75,"div",26)(76,"div",33)(77,"div",34)(78,"label",27),e._uU(79,"Sube tus imagenes: (*)"),e.qZA(),e.TgZ(80,"div",28)(81,"input",35),e.NdJ("change",function(r){return i.processFileTwo(r)}),e.qZA(),e.TgZ(82,"label",36),e._uU(83,"Choose file"),e.qZA()(),e.TgZ(84,"div",31),e._UZ(85,"img",37),e.qZA()(),e.TgZ(86,"div",14)(87,"button",38),e.NdJ("click",function(){return i.addImagen()}),e._uU(88,"+"),e.qZA()(),e.TgZ(89,"div",39)(90,"div",40)(91,"div",41)(92,"table",42)(93,"thead")(94,"tr",43)(95,"th"),e._uU(96,"IMAGEN"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"ACCI\xd3N"),e.qZA()()(),e.TgZ(99,"tbody"),e.YNc(100,ie,6,1,"tr",13),e.qZA()()()()()()()(),e.TgZ(101,"div",3)(102,"div",4)(103,"label",44),e._uU(104,"Descripci\xf3n: "),e.qZA(),e.TgZ(105,"ckeditor",45),e.NdJ("change",function(r){return i.onChange(r)}),e.qZA()(),e.TgZ(106,"div",7)(107,"div",33)(108,"div",39)(109,"label",44),e._uU(110,"Resumen: "),e.qZA(),e.TgZ(111,"textarea",46),e.NdJ("ngModelChange",function(r){return i.resumen=r}),e.qZA()(),e.TgZ(112,"div",39)(113,"label",44),e._uU(114,"Stock: "),e.qZA(),e.TgZ(115,"input",47),e.NdJ("ngModelChange",function(r){return i.stock=r}),e.qZA()()()()(),e.TgZ(116,"div",3)(117,"div",21)(118,"button",48),e.NdJ("click",function(){return i.save()}),e._uU(119,"Guardar"),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,22,i.isLoading$)),e.xp6(7),e.Q6J("ngModel",i.title),e.xp6(4),e.Q6J("ngModel",i.sku),e.xp6(5),e.Q6J("ngModel",i.price_pen),e.xp6(4),e.Q6J("ngModel",i.price_usd),e.xp6(4),e.Q6J("ngModel",i.marca_id),e.xp6(3),e.Q6J("ngForOf",i.marcas),e.xp6(5),e.Q6J("ngModel",i.categorie_first_id),e.xp6(3),e.Q6J("ngForOf",i.categories_first),e.xp6(4),e.Q6J("ngModel",i.categorie_second_id),e.xp6(3),e.Q6J("ngForOf",i.categories_seconds_backups),e.xp6(4),e.Q6J("ngModel",i.categorie_third_id),e.xp6(3),e.Q6J("ngForOf",i.categories_thirds_backups),e.xp6(5),e.Q6J("ngModel",i.word),e.xp6(1),e.Q6J("ngIf",!i.isShowMultiselect),e.xp6(4),e.Q6J("ngModel",i.state),e.xp6(14),e.Q6J("src",i.imagen_previsualiza,e.LSH),e.xp6(11),e.Q6J("src",i.imagen_add_previsualiza,e.LSH),e.xp6(15),e.Q6J("ngForOf",i.images_files),e.xp6(5),e.Q6J("data",i.description),e.xp6(6),e.Q6J("ngModel",i.resumen),e.xp6(4),e.Q6J("ngModel",i.stock))},dependencies:[d.sg,d.O5,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.On,Z.u,f.O,d.Ov]})}return o})(),v=(()=>{class o{http;authservice;isLoading$;isLoadingSubject;constructor(t,n){this.http=t,this.authservice=n,this.isLoadingSubject=new x.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}configAll(){this.isLoadingSubject.next(!0);let t=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/variations/config",{headers:t}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}showProduct(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/products/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}listSpecification(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/specifications?product_id="+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}createSpecification(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/specifications",t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}updateSpecification(t,n){this.isLoadingSubject.next(!0);let i=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(_.$g+"/admin/specifications/"+t,n,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteSpecification(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/admin/specifications/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}listVariations(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/variations?product_id="+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}createVariations(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/variations",t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}updateVariations(t,n){this.isLoadingSubject.next(!0);let i=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(_.$g+"/admin/variations/"+t,n,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteVariations(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/admin/variations/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}listVariationsAnidadas(t,n){this.isLoadingSubject.next(!0);let i=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(_.$g+"/admin/anidado_variations?product_id="+t+"&product_variation_id="+n,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}createVariationsAnidadas(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(_.$g+"/admin/anidado_variations",t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}updateVariationsAnidadas(t,n){this.isLoadingSubject.next(!0);let i=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(_.$g+"/admin/anidado_variations/"+t,n,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteVariationsAnidadas(t){this.isLoadingSubject.next(!0);let n=new l.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(_.$g+"/admin/anidado_variations/"+t,{headers:n}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(n){return new(n||o)(e.LFG(l.eN),e.LFG(A.e8))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function oe(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",25),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2,"Atributos E.:(*)"),e.qZA(),e.TgZ(3,"select",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.specification_attribute_id=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSpecifications())}),e.TgZ(4,"option",23),e._uU(5,"Selec."),e.qZA(),e.YNc(6,oe,3,2,"ng-container",24),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.specification_attribute_id),e.xp6(3),e.Q6J("ngForOf",t.attributes_specifications)}}function re(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",25),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2),e.qZA(),e.TgZ(3,"select",26),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.variations_attribute_id=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariations())}),e.TgZ(4,"option",23),e._uU(5,"Selec."),e.qZA(),e.YNc(6,re,3,2,"ng-container",24),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("Atributos V.:(*) ",t.variations_attribute_id,""),e.xp6(1),e.Q6J("ngModel",t.variations_attribute_id),e.xp6(3),e.Q6J("ngForOf",t.attributes_variations)}}function ce(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",27),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function de(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function le(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",25),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function pe(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.propertie_id=i)}),e.TgZ(2,"option",23),e._uU(3,"Selec."),e.qZA(),e.YNc(4,le,3,2,"ng-container",24),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.propertie_id),e.xp6(3),e.Q6J("ngForOf",t.properties)}}const _e=function(){return{standalone:!0}};function ue(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=i)})("onSelect",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemSelect(i))})("onSelectAll",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectAll(i))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("placeholder","custom placeholder")("settings",t.dropdownSettings)("data",t.dropdownList)("ngModelOptions",e.DdM(5,_e))("ngModel",t.selectedItems)}}function ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2,"Agregar Precio:(Opcional)"),e.qZA(),e.TgZ(3,"input",31),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.precio_add=i)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.precio_add)}}function me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2,"Agregar Stock:(*)"),e.qZA(),e.TgZ(3,"input",32),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.stock_add=i)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.stock_add)}}function he(o,s){1&o&&e._UZ(0,"span",33)}let S=(()=>{class o{attributeService;modal;toastr;EspecificationE=new e.vpe;specification;attributes_variations=[];is_variation;isLoading$;specification_attribute_id="";type_attribute_specification=2;variations_attribute_id="";type_attribute_variation=4;attributes=[];dropdownList=[];selectedItems=[];dropdownSettings={};attributes_specifications=[];properties=[];propertie_id=null;value_add=null;specifications=[];precio_add=0;stock_add=0;constructor(t,n,i){this.attributeService=t,this.modal=n,this.toastr=i}ngOnInit(){this.isLoading$=this.attributeService.isLoading$,this.dropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0},this.is_variation?(this.variations_attribute_id=this.specification.attribute_id,console.log(this.variations_attribute_id),this.changeVariations()):(this.specification_attribute_id=this.specification.attribute_id,this.changeSpecifications()),setTimeout(()=>{let t=this.type_attribute_specification;this.propertie_id=this.specification.propertie_id?this.specification.propertie_id:null,4==this.specification.attribute.type_attribute?(this.type_attribute_specification=0,this.selectedItems=this.specification.value_add?JSON.parse(this.specification.value_add):[],setTimeout(()=>{this.type_attribute_specification=t,this.isLoadingView()},25)):this.value_add=this.specification.value_add?this.specification.value_add:null},25),this.is_variation&&(this.precio_add=this.specification.add_price,this.stock_add=this.specification.stock)}store(){this.is_variation?this.storeVariation():this.storeSpecification()}storeSpecification(){4!=this.type_attribute_specification||0!=this.selectedItems.length?(this.selectedItems.length>0&&(this.value_add=JSON.stringify(this.selectedItems)),this.specification_attribute_id&&(this.propertie_id||this.value_add)?this.attributeService.updateSpecification(this.specification.id,{product_id:this.specification.product_id,attribute_id:this.specification_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se actualizo la especificaci\xf3n correctamente"),this.EspecificationE.emit(n),this.modal.close())}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")):this.toastr.error("Validaci\xf3n","Necesitas seleccionar algunos items")}storeVariation(){this.variations_attribute_id&&(this.propertie_id||this.value_add)?this.attributeService.updateVariations(this.specification.id,{product_id:this.specification.product_id,attribute_id:this.variations_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add,add_price:this.precio_add,stock:this.stock_add}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se actualizo la variaci\xf3n correctamente"),this.EspecificationE.emit(n),this.modal.close())}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")}onItemSelect(t){console.log(t)}onSelectAll(t){console.log(t)}isLoadingView(){this.attributeService.isLoadingSubject.next(!0),setTimeout(()=>{this.attributeService.isLoadingSubject.next(!1)},50)}changeSpecifications(){this.value_add=null,this.propertie_id=null,this.selectedItems=[];let t=this.attributes_specifications.find(n=>n.id==this.specification_attribute_id);t?(this.type_attribute_specification=t.type_attribute,3==this.type_attribute_specification||4==this.type_attribute_specification?(this.properties=t.properties,this.dropdownList=t.properties):(this.properties=[],this.dropdownList=[])):(this.type_attribute_specification=0,this.properties=[],this.dropdownList=[])}changeVariations(){this.value_add=null,this.propertie_id=null;let t=this.attributes_variations.find(n=>n.id==this.variations_attribute_id);t?(this.type_attribute_specification=t.type_attribute,this.properties=3==this.type_attribute_specification||4==this.type_attribute_specification?t.properties:[]):(this.type_attribute_specification=0,this.properties=[])}static \u0275fac=function(n){return new(n||o)(e.Y36(v),e.Y36(g.Kz),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-edit-variation-specifications"]],inputs:{specification:"specification",attributes_variations:"attributes_variations",is_variation:"is_variation",attributes_specifications:"attributes_specifications"},outputs:{EspecificationE:"EspecificationE"},decls:33,vars:13,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"row"],[1,"col-12"],[1,"row","align-items-center"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"fw-semibold","fs-6","py-2"],[4,"ngIf"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],["name","specification_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],[3,"value"],["name","variations_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["type","text","name","value_add","placeholder","Por ejemplo:   The best note",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","value_add","placeholder","Por ejemplo:   34566",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","departament",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[3,"placeholder","settings","data","ngModelOptions","ngModel","ngModelChange","onSelect","onSelectAll"],["type","number","name","precio_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","stock_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return i.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12),e.YNc(14,ae,7,2,"div",13),e.YNc(15,se,7,3,"div",13),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Campo: (*)"),e.qZA(),e.YNc(19,ce,2,1,"ng-container",16),e.YNc(20,de,2,1,"ng-container",16),e.YNc(21,pe,5,2,"ng-container",16),e.YNc(22,ue,2,6,"ng-container",16),e.qZA(),e.YNc(23,ge,4,1,"div",13),e.YNc(24,me,4,1,"div",13),e.qZA()()(),e.TgZ(25,"div",17)(26,"button",18),e.NdJ("click",function(){return i.modal.dismiss()}),e._uU(27,"Cerrar"),e.qZA(),e.TgZ(28,"button",19),e.NdJ("click",function(){return i.store()}),e.TgZ(29,"span",20),e._uU(30,"Actualizar"),e.qZA(),e.YNc(31,he,1,0,"span",21),e.ALo(32,"async"),e.qZA()()()()()),2&n&&(e.xp6(3),e.AsE("Edit ",i.is_variation?"Variation":"Especification",' : "',i.specification.attribute.name,'"'),e.xp6(11),e.Q6J("ngIf",!i.is_variation),e.xp6(1),e.Q6J("ngIf",i.is_variation),e.xp6(4),e.Q6J("ngIf",1==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",2==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",3==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",4==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",i.is_variation),e.xp6(1),e.Q6J("ngIf",i.is_variation),e.xp6(7),e.Q6J("ngIf",e.lcZ(32,11,i.isLoading$)))},dependencies:[d.sg,d.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.On,c.F,f.O,d.Ov]})}return o})();function fe(o,s){1&o&&e._UZ(0,"span",15)}let C=(()=>{class o{attributeService;toastr;modal;specification;is_variation;EspecificationD=new e.vpe;isLoading;constructor(t,n,i){this.attributeService=t,this.toastr=n,this.modal=i}ngOnInit(){this.isLoading=this.attributeService.isLoading$}delete(){this.is_variation?this.deletevVariation():this.deleteSpecification()}deleteSpecification(){this.attributeService.deleteSpecification(this.specification.id).subscribe(t=>{this.EspecificationD.emit({message:200}),this.modal.close()})}deletevVariation(){this.attributeService.deleteVariations(this.specification.id).subscribe(t=>{this.EspecificationD.emit({message:200}),this.modal.close()})}static \u0275fac=function(n){return new(n||o)(e.Y36(v),e.Y36(m._W),e.Y36(g.Kz))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-delete-variation-specifications"]],inputs:{specification:"specification",is_variation:"is_variation"},outputs:{EspecificationD:"EspecificationD"},decls:21,vars:6,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return i.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return i.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return i.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,fe,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&n&&(e.xp6(3),e.AsE("Delete ",i.is_variation?"Variation":"Specification"," : #",i.specification.attribute.name,""),e.xp6(9),e.hij(" \xbfESTAS SEGURO DE ELIMINAR ESTA ",i.is_variation?"VARIATION":"SPECIFICATION","? "),e.xp6(7),e.Q6J("ngIf",e.lcZ(20,4,i.isLoading)))},dependencies:[d.O5,c._Y,c.JL,c.F,d.Ov]})}return o})();function be(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",25),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2,"Atributos E.:(*)"),e.qZA(),e.TgZ(3,"select",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.specification_attribute_id=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSpecifications())}),e.TgZ(4,"option",23),e._uU(5,"Selec."),e.qZA(),e.YNc(6,be,3,2,"ng-container",24),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.specification_attribute_id),e.xp6(3),e.Q6J("ngForOf",t.attributes_specifications)}}function Ze(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",25),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ce(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2),e.qZA(),e.TgZ(3,"select",26),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.variations_attribute_id=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeVariations())}),e.TgZ(4,"option",23),e._uU(5,"Selec."),e.qZA(),e.YNc(6,Ze,3,2,"ng-container",24),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("Atributos V.:(*) ",t.variations_attribute_id,""),e.xp6(1),e.Q6J("ngModel",t.variations_attribute_id),e.xp6(3),e.Q6J("ngForOf",t.attributes_variations)}}function Te(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",27),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function xe(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function Ae(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",25),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Se(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.propertie_id=i)}),e.TgZ(2,"option",23),e._uU(3,"Selec."),e.qZA(),e.YNc(4,Ae,3,2,"ng-container",24),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.propertie_id),e.xp6(3),e.Q6J("ngForOf",t.properties)}}const we=function(){return{standalone:!0}};function Me(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=i)})("onSelect",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemSelect(i))})("onSelectAll",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectAll(i))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("placeholder","custom placeholder")("settings",t.dropdownSettings)("data",t.dropdownList)("ngModelOptions",e.DdM(5,we))("ngModel",t.selectedItems)}}function ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2,"Agregar Precio:(Opcional)"),e.qZA(),e.TgZ(3,"input",31),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.precio_add=i)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.precio_add)}}function ye(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",15),e._uU(2,"Agregar Stock:(*)"),e.qZA(),e.TgZ(3,"input",32),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.stock_add=i)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.stock_add)}}function qe(o,s){1&o&&e._UZ(0,"span",33)}let Ue=(()=>{class o{attributeService;modal;toastr;EspecificationE=new e.vpe;specification;attributes_variations=[];is_variation;isLoading$;specification_attribute_id="";type_attribute_specification=2;variations_attribute_id="";type_attribute_variation=4;attributes=[];dropdownList=[];selectedItems=[];dropdownSettings={};attributes_specifications=[];properties=[];propertie_id=null;value_add=null;specifications=[];precio_add=0;stock_add=0;constructor(t,n,i){this.attributeService=t,this.modal=n,this.toastr=i}ngOnInit(){this.isLoading$=this.attributeService.isLoading$,this.dropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0},this.is_variation?(this.variations_attribute_id=this.specification.attribute_id,console.log(this.variations_attribute_id),this.changeVariations()):(this.specification_attribute_id=this.specification.attribute_id,this.changeSpecifications()),setTimeout(()=>{let t=this.type_attribute_specification;this.propertie_id=this.specification.propertie_id?this.specification.propertie_id:null,4==this.specification.attribute.type_attribute?(this.type_attribute_specification=0,this.selectedItems=this.specification.value_add?JSON.parse(this.specification.value_add):[],setTimeout(()=>{this.type_attribute_specification=t,this.isLoadingView()},25)):this.value_add=this.specification.value_add?this.specification.value_add:null},25),this.is_variation&&(this.precio_add=this.specification.add_price,this.stock_add=this.specification.stock)}store(){this.is_variation?this.storeVariation():this.storeSpecification()}storeSpecification(){4!=this.type_attribute_specification||0!=this.selectedItems.length?(this.selectedItems.length>0&&(this.value_add=JSON.stringify(this.selectedItems)),this.specification_attribute_id&&(this.propertie_id||this.value_add)?this.attributeService.updateSpecification(this.specification.id,{product_id:this.specification.product_id,attribute_id:this.specification_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se actualizo la especificaci\xf3n correctamente"),this.EspecificationE.emit(n),this.modal.close())}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")):this.toastr.error("Validaci\xf3n","Necesitas seleccionar algunos items")}storeVariation(){this.variations_attribute_id&&(this.propertie_id||this.value_add)?this.attributeService.updateVariationsAnidadas(this.specification.id,{product_id:this.specification.product_id,attribute_id:this.variations_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add,add_price:this.precio_add,stock:this.stock_add,product_variation_id:this.specification.product_variation_id}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se actualizo la variaci\xf3n ANIDADA correctamente"),this.EspecificationE.emit(n),this.modal.close())}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")}onItemSelect(t){console.log(t)}onSelectAll(t){console.log(t)}isLoadingView(){this.attributeService.isLoadingSubject.next(!0),setTimeout(()=>{this.attributeService.isLoadingSubject.next(!1)},50)}changeSpecifications(){this.value_add=null,this.propertie_id=null,this.selectedItems=[];let t=this.attributes_specifications.find(n=>n.id==this.specification_attribute_id);t?(this.type_attribute_specification=t.type_attribute,3==this.type_attribute_specification||4==this.type_attribute_specification?(this.properties=t.properties,this.dropdownList=t.properties):(this.properties=[],this.dropdownList=[])):(this.type_attribute_specification=0,this.properties=[],this.dropdownList=[])}changeVariations(){this.value_add=null,this.propertie_id=null;let t=this.attributes_variations.find(n=>n.id==this.variations_attribute_id);t?(this.type_attribute_specification=t.type_attribute,this.properties=3==this.type_attribute_specification||4==this.type_attribute_specification?t.properties:[]):(this.type_attribute_specification=0,this.properties=[])}static \u0275fac=function(n){return new(n||o)(e.Y36(v),e.Y36(g.Kz),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-edit-anidado-variations"]],inputs:{specification:"specification",attributes_variations:"attributes_variations",is_variation:"is_variation",attributes_specifications:"attributes_specifications"},outputs:{EspecificationE:"EspecificationE"},decls:33,vars:13,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"row"],[1,"col-12"],[1,"row","align-items-center"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"fw-semibold","fs-6","py-2"],[4,"ngIf"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],["name","specification_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],[3,"value"],["name","variations_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["type","text","name","value_add","placeholder","Por ejemplo:   The best note",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","value_add","placeholder","Por ejemplo:   34566",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","departament",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[3,"placeholder","settings","data","ngModelOptions","ngModel","ngModelChange","onSelect","onSelectAll"],["type","number","name","precio_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","stock_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return i.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12),e.YNc(14,ve,7,2,"div",13),e.YNc(15,Ce,7,3,"div",13),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Campo: (*)"),e.qZA(),e.YNc(19,Te,2,1,"ng-container",16),e.YNc(20,xe,2,1,"ng-container",16),e.YNc(21,Se,5,2,"ng-container",16),e.YNc(22,Me,2,6,"ng-container",16),e.qZA(),e.YNc(23,ke,4,1,"div",13),e.YNc(24,ye,4,1,"div",13),e.qZA()()(),e.TgZ(25,"div",17)(26,"button",18),e.NdJ("click",function(){return i.modal.dismiss()}),e._uU(27,"Cerrar"),e.qZA(),e.TgZ(28,"button",19),e.NdJ("click",function(){return i.store()}),e.TgZ(29,"span",20),e._uU(30,"Actualizar"),e.qZA(),e.YNc(31,qe,1,0,"span",21),e.ALo(32,"async"),e.qZA()()()()()),2&n&&(e.xp6(3),e.AsE("Edit ",i.is_variation?"Variation":"Especification",' : "',i.specification.attribute.name,'"'),e.xp6(11),e.Q6J("ngIf",!i.is_variation),e.xp6(1),e.Q6J("ngIf",i.is_variation),e.xp6(4),e.Q6J("ngIf",1==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",2==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",3==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",4==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",i.is_variation),e.xp6(1),e.Q6J("ngIf",i.is_variation),e.xp6(7),e.Q6J("ngIf",e.lcZ(32,11,i.isLoading$)))},dependencies:[d.sg,d.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.On,c.F,f.O,d.Ov]})}return o})();function Je(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ee(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ie(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.propertie_id=i)}),e.TgZ(2,"option",16),e._uU(3,"Selec."),e.qZA(),e.YNc(4,Ee,3,2,"ng-container",17),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.propertie_id),e.xp6(3),e.Q6J("ngForOf",t.properties)}}function Le(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",31),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function Ve(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",32)(4,"div",33)(5,"span",34)(6,"i",35),e._UZ(7,"span",36)(8,"span",37)(9,"span",38)(10,"span",39)(11,"span",40)(12,"span",41)(13,"span",42)(14,"span",43),e.qZA()()(),e.TgZ(15,"div",44)(16,"a",45),e._uU(17),e.qZA()()()(),e.TgZ(18,"td")(19,"a",46),e._uU(20),e.qZA()(),e.TgZ(21,"td")(22,"span",47),e._uU(23),e.qZA()(),e.TgZ(24,"td")(25,"span",47),e._uU(26),e.qZA()(),e.TgZ(27,"td",48)(28,"a",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editVariation(a))}),e.TgZ(29,"i",50),e._UZ(30,"span",36)(31,"span",37),e.qZA()(),e.TgZ(32,"a",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteVariation(a))}),e.TgZ(33,"i",52),e._UZ(34,"span",36)(35,"span",37)(36,"span",38)(37,"span",39)(38,"span",40),e.qZA()()()(),e.BQk()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(17),e.hij(" ",t.attribute.name," "),e.xp6(3),e.hij(" ",n.getValueAttribute(t)," "),e.xp6(3),e.Oqu(t.add_price),e.xp6(3),e.Oqu(t.stock)}}let Ne=(()=>{class o{attributeService;modal;toastr;modalService;variation;specification_attribute_id="";type_attribute_specification=2;variations_attribute_id="";type_attribute_variation=4;attributes=[];precio_add=0;stock_add=0;attributes_specifications=[];attributes_variations=[];properties=[];propertie_id=null;value_add=null;specifications=[];variations=[];isLoading$;constructor(t,n,i,a){this.attributeService=t,this.modal=n,this.toastr=i,this.modalService=a}ngOnInit(){this.isLoading$=this.attributeService.isLoading$,this.listVariationsAnidadas()}listVariationsAnidadas(){this.attributeService.listVariationsAnidadas(this.variation.product_id,this.variation.id).subscribe(t=>{this.variations=t.variations})}changeVariations(){this.value_add=null,this.propertie_id=null;let t=this.attributes_variations.find(n=>n.id==this.variations_attribute_id);t?(this.type_attribute_variation=t.type_attribute,this.properties=3==this.type_attribute_variation||4==this.type_attribute_variation?t.properties:[]):(this.type_attribute_variation=0,this.properties=[])}getValueAttribute(t){return t.propertie_id?t.propertie.name:t.value_add?t.value_add:"---"}saveVariation(){this.variations_attribute_id&&(this.propertie_id||this.value_add)?this.precio_add<0?this.toastr.error("Validaci\xf3n","El valor del precio debe ser mayor o igual"):this.stock_add<=0?this.toastr.error("Validaci\xf3n","El stock debe ser mayor a 0"):this.attributeService.createVariationsAnidadas({product_id:this.variation.product_id,attribute_id:this.variations_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add,add_price:this.precio_add,stock:this.stock_add,product_variation_id:this.variation.id}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se registro la variaci\xf3n ANIDADA correctamente"),this.variations.unshift(n.variation),this.value_add=null,this.propertie_id=null,this.variations_attribute_id="",this.precio_add=0,this.stock_add=0)}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")}editVariation(t){const n=this.modalService.open(Ue,{centered:!0,size:"md"});n.componentInstance.specification=t,n.componentInstance.attributes_variations=this.attributes_variations,n.componentInstance.is_variation=1,n.componentInstance.EspecificationE.subscribe(i=>{console.log(i);let a=this.variations.findIndex(r=>r.id==i.variation.id);-1!=a&&(this.variations[a]=i.variation)})}deleteVariation(t){const n=this.modalService.open(C,{centered:!0,size:"md"});n.componentInstance.specification=t,n.componentInstance.is_variation=1,n.componentInstance.EspecificationD.subscribe(i=>{console.log(i);let a=this.variations.findIndex(r=>r.id==t.id);-1!=a&&this.variations.splice(a,1)})}static \u0275fac=function(n){return new(n||o)(e.Y36(v),e.Y36(g.Kz),e.Y36(m._W),e.Y36(g.FF))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-create-anidado-variations"]],inputs:{variation:"variation",attributes_variations:"attributes_variations"},decls:64,vars:8,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"row"],[1,"col-12"],[1,"row","align-items-center"],[1,"col-4"],[1,"fw-semibold","fs-6","py-2"],["name","variations_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","number","name","precio_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","stock_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"row","my-4"],[1,"table-responsive"],[1,"table","align-middle","gs-0","gy-4"],[1,"fw-bold","text-muted","bg-light"],[1,""],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],[3,"value"],["name","departament",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["type","text","name","value_add","placeholder","Por ejemplo:   The best note",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-50px","me-2"],[1,"symbol-label","bg-light-info"],[1,"ki-duotone","ki-scan-barcode","fs-2x","text-info"],[1,"path1"],[1,"path2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"path6"],[1,"path7"],[1,"path8"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bold","text-hover-primary","mb-1","fs-6"],["href","#","onclick","return false;",1,"text-gray-900","fw-bold","text-hover-primary","d-block","mb-1","fs-6"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],[1,"text-end"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return i.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",10)(16,"div",11)(17,"label",14),e._uU(18,"Atributos:(*)"),e.qZA(),e.TgZ(19,"select",15),e.NdJ("ngModelChange",function(r){return i.variations_attribute_id=r})("change",function(){return i.changeVariations()}),e.TgZ(20,"option",16),e._uU(21,"Selec."),e.qZA(),e.YNc(22,Je,3,2,"ng-container",17),e.qZA()(),e.TgZ(23,"div",11)(24,"label",14),e._uU(25,"Campo: (*)"),e.qZA(),e.YNc(26,Ie,5,2,"ng-container",18),e.YNc(27,Le,2,1,"ng-container",18),e.qZA()()(),e.TgZ(28,"div",13)(29,"div",10)(30,"div",11)(31,"label",14),e._uU(32,"Agregar Precio:(Opcional)"),e.qZA(),e.TgZ(33,"input",19),e.NdJ("ngModelChange",function(r){return i.precio_add=r}),e.qZA()(),e.TgZ(34,"div",11)(35,"label",14),e._uU(36,"Agregar Stock:(*)"),e.qZA(),e.TgZ(37,"input",20),e.NdJ("ngModelChange",function(r){return i.stock_add=r}),e.qZA()()()(),e.TgZ(38,"div",13)(39,"label",14),e._uU(40,"Agregar:(*)"),e.qZA(),e._UZ(41,"br"),e.TgZ(42,"button",21),e.NdJ("click",function(){return i.saveVariation()}),e._uU(43," +"),e.qZA()()()()(),e.TgZ(44,"div",22)(45,"div",11)(46,"div",23)(47,"table",24)(48,"thead")(49,"tr",25)(50,"th",26),e._uU(51,"Atributo V."),e.qZA(),e.TgZ(52,"th",26),e._uU(53,"Valor"),e.qZA(),e.TgZ(54,"th",26),e._uU(55,"Precio Adicional"),e.qZA(),e.TgZ(56,"th",26),e._uU(57,"Stock"),e.qZA(),e._UZ(58,"th",26),e.qZA()(),e.TgZ(59,"tbody"),e.YNc(60,Ve,39,4,"ng-container",17),e.qZA()()()()(),e.TgZ(61,"div",27)(62,"button",28),e.NdJ("click",function(){return i.modal.dismiss()}),e._uU(63,"Cerrar"),e.qZA()()()()()),2&n&&(e.xp6(3),e.hij('Gesti\xf3n Anidado : "',i.variation.attribute.name,'"'),e.xp6(16),e.Q6J("ngModel",i.variations_attribute_id),e.xp6(3),e.Q6J("ngForOf",i.attributes_variations),e.xp6(4),e.Q6J("ngIf",3==i.type_attribute_variation),e.xp6(1),e.Q6J("ngIf",1==i.type_attribute_variation),e.xp6(6),e.Q6J("ngModel",i.precio_add),e.xp6(4),e.Q6J("ngModel",i.stock_add),e.xp6(23),e.Q6J("ngForOf",i.variations))},dependencies:[d.sg,d.O5,c._Y,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.JL,c.On,c.F]})}return o})();function Qe(o,s){1&o&&e._UZ(0,"span",30)}function Pe(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",31),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Oe(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",32),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function Fe(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",33),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function De(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",31),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function je(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",34),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.propertie_id=i)}),e.TgZ(2,"option",16),e._uU(3,"Selec."),e.qZA(),e.YNc(4,De,3,2,"ng-container",17),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.propertie_id),e.xp6(3),e.Q6J("ngForOf",t.properties)}}function Ye(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-multiselect-dropdown",35),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=i)})("onSelect",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onItemSelect(i))})("onSelectAll",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelectAll(i))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("placeholder","custom placeholder")("settings",t.dropdownSettings)("data",t.dropdownList)("ngModel",t.selectedItems)}}function $e(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",31),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Be(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"option",31),e._uU(2),e.qZA(),e.BQk()),2&o){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Re(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"select",34),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.propertie_id=i)}),e.TgZ(2,"option",16),e._uU(3,"Selec."),e.qZA(),e.YNc(4,Be,3,2,"ng-container",17),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.propertie_id),e.xp6(3),e.Q6J("ngForOf",t.properties)}}function ze(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",32),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.value_add=i)}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.value_add)}}function Ge(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",36)(4,"div",37)(5,"span",38)(6,"i",39),e._UZ(7,"span",40)(8,"span",41)(9,"span",42),e.qZA()()(),e.TgZ(10,"div",43)(11,"a",44),e._uU(12),e.qZA()()()(),e.TgZ(13,"td")(14,"a",45),e._uU(15),e.qZA()(),e.TgZ(16,"td",46)(17,"a",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editSpecification(a))}),e.TgZ(18,"i",48),e._UZ(19,"span",40)(20,"span",41),e.qZA()(),e.TgZ(21,"a",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteSpecification(a))}),e.TgZ(22,"i",50),e._UZ(23,"span",40)(24,"span",41)(25,"span",42)(26,"span",51)(27,"span",52),e.qZA()()()(),e.BQk()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(12),e.hij(" ",t.attribute.name," "),e.xp6(3),e.hij(" ",n.getValueAttribute(t)," ")}}function Ke(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",36)(4,"div",37)(5,"span",53)(6,"i",54),e._UZ(7,"span",40)(8,"span",41)(9,"span",42)(10,"span",51)(11,"span",52)(12,"span",55)(13,"span",56)(14,"span",57),e.qZA()()(),e.TgZ(15,"div",43)(16,"a",44),e._uU(17),e.qZA()()()(),e.TgZ(18,"td")(19,"a",45),e._uU(20),e.qZA()(),e.TgZ(21,"td")(22,"span",58),e._uU(23),e.qZA()(),e.TgZ(24,"td")(25,"span",58),e._uU(26),e.qZA()(),e.TgZ(27,"td",46)(28,"a",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openAnidado(a))}),e.TgZ(29,"i",59),e._UZ(30,"span",40)(31,"span",41),e.qZA()(),e.TgZ(32,"a",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editVariation(a))}),e.TgZ(33,"i",48),e._UZ(34,"span",40)(35,"span",41),e.qZA()(),e.TgZ(36,"a",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteVariation(a))}),e.TgZ(37,"i",50),e._UZ(38,"span",40)(39,"span",41)(40,"span",42)(41,"span",51)(42,"span",52),e.qZA()()()(),e.BQk()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(17),e.hij(" ",t.attribute.name," "),e.xp6(3),e.hij(" ",n.getValueAttribute(t)," "),e.xp6(3),e.Oqu(t.add_price),e.xp6(3),e.Oqu(t.stock)}}const He=[{path:"",component:w,children:[{path:"register",component:E},{path:"list",component:R},{path:"list/edit/:id",component:ne},{path:"list/variations-specifications/:id",component:(()=>{class o{attributeService;toastr;activedRoute;modalService;title="";sku="";isLoading$;specification_attribute_id="";type_attribute_specification=2;variations_attribute_id="";type_attribute_variation=4;attributes=[];dropdownList=[];selectedItems=[];dropdownSettings={};word="";isShowMultiselect=!1;PRODUCT_ID="";PRODUCT_SELECTED;campo_1="";campo_2=0;campo_3;campo_1_variation;dropdownListVariations=[];selectedItemsVariations=[];precio_add=0;stock_add=0;attributes_specifications=[];attributes_variations=[];properties=[];propertie_id=null;value_add=null;specifications=[];variations=[];constructor(t,n,i,a){this.attributeService=t,this.toastr=n,this.activedRoute=i,this.modalService=a}ngOnInit(){this.isLoading$=this.attributeService.isLoading$,this.dropdownSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!0},this.activedRoute.params.subscribe(t=>{console.log(t),this.PRODUCT_ID=t.id}),this.showProduct(),this.configAll(),this.listSpecification(),this.listVariations()}configAll(){this.attributeService.configAll().subscribe(t=>{console.log(t),this.attributes_specifications=t.attributes_specifications,this.attributes_variations=t.attributes_variations})}listSpecification(){this.attributeService.listSpecification(this.PRODUCT_ID).subscribe(t=>{console.log(t),this.specifications=t.specifications})}listVariations(){this.attributeService.listVariations(this.PRODUCT_ID).subscribe(t=>{console.log(t),this.variations=t.variations})}showProduct(){this.attributeService.showProduct(this.PRODUCT_ID).subscribe(t=>{console.log(t),this.PRODUCT_SELECTED=t.product,this.title=t.product.title,this.sku=t.product.sku})}changeSpecifications(){this.value_add=null,this.propertie_id=null,this.selectedItems=[];let t=this.attributes_specifications.find(n=>n.id==this.specification_attribute_id);t?(this.type_attribute_specification=t.type_attribute,3==this.type_attribute_specification||4==this.type_attribute_specification?(this.properties=t.properties,this.dropdownList=t.properties):(this.properties=[],this.dropdownList=[])):(this.type_attribute_specification=0,this.properties=[],this.dropdownList=[])}changeVariations(){this.value_add=null,this.propertie_id=null;let t=this.attributes_variations.find(n=>n.id==this.variations_attribute_id);t?(this.type_attribute_variation=t.type_attribute,this.properties=3==this.type_attribute_variation||4==this.type_attribute_variation?t.properties:[]):(this.type_attribute_variation=0,this.properties=[])}addItems(){this.isShowMultiselect=!0;let t=(new Date).getTime();this.dropdownList.push({item_id:t,item_text:this.word}),this.selectedItems.push({item_id:t,item_text:this.word}),setTimeout(()=>{this.word="",this.isShowMultiselect=!1,this.isLoadingView()},100)}onItemSelect(t){console.log(t)}onSelectAll(t){console.log(t)}isLoadingView(){this.attributeService.isLoadingSubject.next(!0),setTimeout(()=>{this.attributeService.isLoadingSubject.next(!1)},50)}save(){4!=this.type_attribute_specification||0!=this.selectedItems.length?(this.selectedItems.length>0&&(this.value_add=JSON.stringify(this.selectedItems)),this.specification_attribute_id&&(this.propertie_id||this.value_add)?this.attributeService.createSpecification({product_id:this.PRODUCT_ID,attribute_id:this.specification_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se registro la especificaci\xf3n correctamente"),this.specifications.unshift(n.specification),this.value_add=null,this.propertie_id=null,this.specification_attribute_id="")}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")):this.toastr.error("Validaci\xf3n","Necesitas seleccionar algunos items")}editSpecification(t){const n=this.modalService.open(S,{centered:!0,size:"md"});n.componentInstance.specification=t,n.componentInstance.attributes_specifications=this.attributes_specifications,n.componentInstance.EspecificationE.subscribe(i=>{console.log(i);let a=this.specifications.findIndex(r=>r.id==i.specification.id);-1!=a&&(this.specifications[a]=i.specification)})}deleteSpecification(t){const n=this.modalService.open(C,{centered:!0,size:"md"});n.componentInstance.specification=t,n.componentInstance.EspecificationD.subscribe(i=>{console.log(i);let a=this.specifications.findIndex(r=>r.id==t.id);-1!=a&&this.specifications.splice(a,1)})}getValueAttribute(t){return t.propertie_id?t.propertie.name:t.value_add?t.value_add:"---"}saveVariation(){this.variations_attribute_id&&(this.propertie_id||this.value_add)?this.precio_add<0?this.toastr.error("Validaci\xf3n","El valor del precio debe ser mayor o igual"):this.stock_add<=0?this.toastr.error("Validaci\xf3n","El stock debe ser mayor a 0"):this.attributeService.createVariations({product_id:this.PRODUCT_ID,attribute_id:this.variations_attribute_id,propertie_id:this.propertie_id,value_add:this.value_add,add_price:this.precio_add,stock:this.stock_add}).subscribe(n=>{console.log(n),403==n.message?this.toastr.error("Validaci\xf3n",n.message_text):(this.toastr.success("Exito","Se registro la variaci\xf3n correctamente"),this.variations.unshift(n.variation),this.value_add=null,this.propertie_id=null,this.variations_attribute_id="",this.precio_add=0,this.stock_add=0)}):this.toastr.error("Validaci\xf3n","Llene los campos necesarios")}editVariation(t){const n=this.modalService.open(S,{centered:!0,size:"md"});n.componentInstance.specification=t,n.componentInstance.attributes_specifications=this.attributes_specifications,n.componentInstance.attributes_variations=this.attributes_variations,n.componentInstance.is_variation=1,n.componentInstance.EspecificationE.subscribe(i=>{console.log(i);let a=this.variations.findIndex(r=>r.id==i.variation.id);-1!=a&&(this.variations[a]=i.variation)})}deleteVariation(t){const n=this.modalService.open(C,{centered:!0,size:"md"});n.componentInstance.specification=t,n.componentInstance.is_variation=1,n.componentInstance.EspecificationD.subscribe(i=>{console.log(i);let a=this.variations.findIndex(r=>r.id==t.id);-1!=a&&this.variations.splice(a,1)})}openAnidado(t){const n=this.modalService.open(Ne,{centered:!0,size:"lg"});n.componentInstance.variation=t,n.componentInstance.attributes_variations=this.attributes_variations}static \u0275fac=function(n){return new(n||o)(e.Y36(v),e.Y36(m._W),e.Y36(h.gz),e.Y36(g.FF))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-create-variation-specifications"]],decls:108,vars:19,consts:[[1,"card"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-8","fv-row","fv-plugins-icon-container"],[1,"fw-semibold","fs-6","py-2"],["type","text","name","title","disabled","","placeholder","Por ejemplo:   The best note book collection 2023 ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-lg-4","fv-row","fv-plugins-icon-container"],["type","text","name","sku","disabled","","placeholder","Por ejemplo:   ZDR456 ",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"row","mb-6","align-items-center"],[1,"col-6"],[1,"row"],[1,"col-12"],[1,"row","align-items-center"],[1,"col-4"],["name","specification_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],["name","variations_attribute_id","placeholder","Selec. Atributo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["type","number","name","precio_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","stock_add","placeholder","Por ejemplo:   15",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","align-middle","gs-0","gy-4"],[1,"fw-bold","text-muted","bg-light"],[1,"ps-4","min-w-325px","rounded-start"],[1,"min-w-125px"],[1,"min-w-200px","text-end","rounded-end"],[1,""],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],["type","text","name","value_add","placeholder","Por ejemplo:   The best note",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","value_add","placeholder","Por ejemplo:   34566",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","departament",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-50px","me-2"],[1,"symbol-label","bg-light-primary"],[1,"ki-duotone","ki-shield-search","fs-2x","text-primary"],[1,"path1"],[1,"path2"],[1,"path3"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bold","text-hover-primary","mb-1","fs-6"],["href","#","onclick","return false;",1,"text-gray-900","fw-bold","text-hover-primary","d-block","mb-1","fs-6"],[1,"text-end"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path4"],[1,"path5"],[1,"symbol-label","bg-light-info"],[1,"ki-duotone","ki-scan-barcode","fs-2x","text-info"],[1,"path6"],[1,"path7"],[1,"path8"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],[1,"ki-duotone","ki-questionnaire-tablet","fs-2"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Qe,1,0,"span",1),e.ALo(2,"async"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),e._uU(7,"Titulo: (*)"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){return i.title=r}),e.qZA()(),e.TgZ(9,"div",7)(10,"label",5),e._uU(11,"Sku: (*)"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(r){return i.sku=r}),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"label",5),e._uU(16,"Especificaciones: (*)"),e.qZA(),e.TgZ(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14)(21,"label",5),e._uU(22,"Atributos:(*)"),e.qZA(),e.TgZ(23,"select",15),e.NdJ("ngModelChange",function(r){return i.specification_attribute_id=r})("change",function(){return i.changeSpecifications()}),e.TgZ(24,"option",16),e._uU(25,"Selec."),e.qZA(),e.YNc(26,Pe,3,2,"ng-container",17),e.qZA()(),e.TgZ(27,"div",14)(28,"label",5),e._uU(29,"Campo: (*)"),e.qZA(),e.YNc(30,Oe,2,1,"ng-container",18),e.YNc(31,Fe,2,1,"ng-container",18),e.YNc(32,je,5,2,"ng-container",18),e.YNc(33,Ye,2,4,"ng-container",18),e.qZA(),e.TgZ(34,"div",14)(35,"label",5),e._uU(36,"Agregar:(*)"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"button",19),e.NdJ("click",function(){return i.save()}),e._uU(39," +"),e.qZA()()()()()(),e.TgZ(40,"div",10)(41,"label",5),e._uU(42,"Variaciones: (*)"),e.qZA(),e.TgZ(43,"div",13)(44,"div",12)(45,"div",13)(46,"div",14)(47,"div",11)(48,"div",12)(49,"label",5),e._uU(50,"Atributos:(*)"),e.qZA(),e.TgZ(51,"select",20),e.NdJ("ngModelChange",function(r){return i.variations_attribute_id=r})("change",function(){return i.changeVariations()}),e.TgZ(52,"option",16),e._uU(53,"Selec."),e.qZA(),e.YNc(54,$e,3,2,"ng-container",17),e.qZA()(),e.TgZ(55,"div",12)(56,"label",5),e._uU(57,"Campo: (*)"),e.qZA(),e.YNc(58,Re,5,2,"ng-container",18),e.YNc(59,ze,2,1,"ng-container",18),e.qZA()()(),e.TgZ(60,"div",14)(61,"div",11)(62,"div",12)(63,"label",5),e._uU(64,"Agregar Precio:(Opcional)"),e.qZA(),e.TgZ(65,"input",21),e.NdJ("ngModelChange",function(r){return i.precio_add=r}),e.qZA()(),e.TgZ(66,"div",12)(67,"label",5),e._uU(68,"Agregar Stock:(*)"),e.qZA(),e.TgZ(69,"input",22),e.NdJ("ngModelChange",function(r){return i.stock_add=r}),e.qZA()()()(),e.TgZ(70,"div",14)(71,"label",5),e._uU(72,"Agregar:(*)"),e.qZA(),e._UZ(73,"br"),e.TgZ(74,"button",19),e.NdJ("click",function(){return i.saveVariation()}),e._uU(75," +"),e.qZA()()()()()(),e.TgZ(76,"div",10)(77,"div",11)(78,"div",12)(79,"div",23)(80,"table",24)(81,"thead")(82,"tr",25)(83,"th",26),e._uU(84,"Atributo E."),e.qZA(),e.TgZ(85,"th",27),e._uU(86,"Valor"),e.qZA(),e._UZ(87,"th",28),e.qZA()(),e.TgZ(88,"tbody"),e.YNc(89,Ge,28,2,"ng-container",17),e.qZA()()()()()(),e.TgZ(90,"div",10)(91,"div",11)(92,"div",12)(93,"div",23)(94,"table",24)(95,"thead")(96,"tr",25)(97,"th",29),e._uU(98,"Atributo V."),e.qZA(),e.TgZ(99,"th",29),e._uU(100,"Valor"),e.qZA(),e.TgZ(101,"th",29),e._uU(102,"Precio Adicional"),e.qZA(),e.TgZ(103,"th",29),e._uU(104,"Stock"),e.qZA(),e._UZ(105,"th",29),e.qZA()(),e.TgZ(106,"tbody"),e.YNc(107,Ke,43,4,"ng-container",17),e.qZA()()()()()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,17,i.isLoading$)),e.xp6(7),e.Q6J("ngModel",i.title),e.xp6(4),e.Q6J("ngModel",i.sku),e.xp6(11),e.Q6J("ngModel",i.specification_attribute_id),e.xp6(3),e.Q6J("ngForOf",i.attributes_specifications),e.xp6(4),e.Q6J("ngIf",1==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",2==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",3==i.type_attribute_specification),e.xp6(1),e.Q6J("ngIf",4==i.type_attribute_specification),e.xp6(18),e.Q6J("ngModel",i.variations_attribute_id),e.xp6(3),e.Q6J("ngForOf",i.attributes_variations),e.xp6(4),e.Q6J("ngIf",3==i.type_attribute_variation),e.xp6(1),e.Q6J("ngIf",1==i.type_attribute_variation),e.xp6(6),e.Q6J("ngModel",i.precio_add),e.xp6(4),e.Q6J("ngModel",i.stock_add),e.xp6(20),e.Q6J("ngForOf",i.specifications),e.xp6(18),e.Q6J("ngForOf",i.variations))},dependencies:[d.sg,d.O5,c.YN,c.Kr,c.Fj,c.wV,c.EJ,c.JJ,c.On,f.O,d.Ov]})}return o})()}]}];let We=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[h.Bz.forChild(He),h.Bz]})}return o})();var Xe=u(53);let et=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[d.ez,We,l.JF,c.u5,g.IJ,c.UX,Xe.vi,g.bz,g.jF,Z.d,f.Z.forRoot()]})}return o})()}}]);